<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Movies</title>
    <link rel="stylesheet" href="CSS/Add_movie.css">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>

<!-- Back Button -->
<button class="back-button" onclick="document.location='Movie_Sections.html'">Back to Sections</button>

<!-- Headline -->
<h1>Add Movies</h1>

<!-- Form Layout -->
<div class="form-container">
    <!-- Cover Section -->
    <div class="cover-container">
        <label for="upload-cover" class="add-cover">
            <input type="file" id="upload-cover" accept="image/*" />
            Add Cover
        </label>
        <img id="cover-preview" src="" alt="Cover Image" />

        <!-- Dropdown for Sections -->
        <label class="dropdown-title">Movie Sections</label>
        <div class="dropdown single-select">
            <div class="select">
                <span class="selected">Now Showing</span>
                <div class="caret"></div>
            </div>
            <ul class="menu">
                <li class="active">Now Showing</li>
                <li>Advanced Sales</li>
            </ul>
        </div>

        <!-- Dropdown for Theaters -->
        <label class="dropdown-title">Add Cinema Theaters</label>
        <div class="dropdown multi-select">
            <div class="select">
                <span class="selected">Select Cinema Theaters</span>
                <div class="caret"></div>
            </div>
            <ul class="menu">
                <li><input type="checkbox" value="The Hyundai-Hall A">The Hydundai,Hall A</li>
                <li><input type="checkbox" value="The Hyundai-Hall B">The Hydundai,Hall B</li>
                <li><input type="checkbox" value="Lotte World Mall-Hall A">Lotte World Mall,Hall A</li>
                <li><input type="checkbox" value="Lotte World Mall-Hall B">Lotte World Mall,Hall B</li>
                <li><input type="checkbox" value="Suntec City-Hall A">Suntec City,Hall A</li>
                <li><input type="checkbox" value="Suntec City-Hall B">Suntec City,Hall B</li>
                <li><input type="checkbox" value="Ion Orchard-Hall A">Ion Orchard,Hall A</li>
                <li><input type="checkbox" value="Ion Orchard-Hall B">Ion Orchard,Hall B</li>
            </ul>
        </div>

        <!-- Date and Time Picker -->
        <label class="dropdown-title">Select Dates and Times</label>
        <div class="form-group">
            <input type="text" id="dateTimePicker" placeholder="Select Dates and Times">
        </div>
    </div>

    <!-- Movie Form -->
    <div class="movie-form">
        <div class="form-group">
            <textarea placeholder="Enter Movie Title" rows="1"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Cast" rows="2"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Director" rows="1"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Movie Rating" rows="1"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Movie Genre" rows="1"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Movie Language" rows="1"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Movie Subtitles" rows="1"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Movie Runtime (mins)" rows="1"></textarea>
        </div>
        <div class="form-group">
            <textarea placeholder="Enter Movie Synopsis" rows="5"></textarea>
        </div>
        <button class="add-button">Add</button>
    </div>
</div>
<!-- Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
    // Initialize Flatpickr for date and time selection
    document.addEventListener("DOMContentLoaded", function() {
        flatpickr("#dateTimePicker", {
            enableTime: true,
            dateFormat: "Y-m-d H:i",
            mode: "multiple",
            time_24hr: true,
            weekNumbers: true,
            minDate: "today"
        });
    });
</script>

<script>
    // Dropdown functionality
    document.querySelectorAll('.dropdown').forEach(dropdown => {
        const select = dropdown.querySelector('.select');
        const caret = dropdown.querySelector('.caret');
        const menu = dropdown.querySelector('.menu');
        const selected = dropdown.querySelector('.selected');

        select.addEventListener('click', () => {
            menu.classList.toggle('menu-open');
            caret.classList.toggle('caret-rotate');
        });

        menu.querySelectorAll('li').forEach(option => {
            option.addEventListener('click', () => {
                if (dropdown.classList.contains('single-select')) {
                    selected.textContent = option.textContent;
                    menu.querySelectorAll('li').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                } else if (dropdown.classList.contains('multi-select')) {
                    const checkbox = option.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;

                    const selectedOptions = Array.from(menu.querySelectorAll('input:checked'))
                        .map(checkbox => checkbox.value);

                    selected.textContent = selectedOptions.length > 0 
                        ? selectedOptions.join(', ') 
                        : 'Select Cinema Theaters';
                }
            });
        });
    });
</script>

<script>
    // Cover preview functionality
    const fileInput = document.getElementById('upload-cover');
    const preview = document.getElementById('cover-preview');

    fileInput.addEventListener('change', function () {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.src = e.target.result;
                preview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            preview.style.display = 'none';
        }
    });
</script>

</body>
</html>

